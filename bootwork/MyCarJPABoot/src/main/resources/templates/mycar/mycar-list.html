<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <script src="https://code.jquery.com/jquery-3.7.0.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Black+Han+Sans&family=Gasoek+One&family=Gugi&family=Nanum+Gothic+Coding:wght@400;700&family=Noto+Sans+KR:wght@200;400;800;900&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body * {
	    font-family: "Noto Sans KR";
            font-size: 16px;
        }

    </style>

</head>


<body>
<div style="margin: 30px">
    <h3>MyCar 목록 출력</h3>
    <h4><b>총 [[${totalCount}]]개의 자동차 정보가 등록되어있습니다 (페이지수 : [[${totalPage}]])</b>
    <button type="button" class="btn btn-outline-success" onclick="location.href='./addcar'">자동차 등록</button>
    </h4>

    <hr>
    <table class = "table table-bordered" style="width: 800px;">
        <tr>
            <th>번호</th>
            <th>자동차명</th>
            <th style="width: 50px">색상</th>
            <th>단가</th>
            <th>구입일</th>
        </tr>
        <tr th:each = "dto,iter:${list}">
            <td>[[${iter.count}]]</td>
            <td><img style="width: 30px; margin-right: 20px; border-radius: 10px" th:src = "@{'https://kr.object.ncloudstorage.com/bitcamp701aiur/bootmyshop/'+${dto.carphoto}}">

                <a th:href="@{/detail(num=${dto.num})}" style="color: black; cursor: pointer;text-decoration-line:none"> [[${dto.carname}]]
                    <span style="margin-left: 10px; color: lightseagreen" th:if = "${dto.commentcount>0}">
                        ([[${dto.commentcount}]])
                    </span>

                </a>
            </td>
            <td>
                <div th:style="'width: 20px; height:20px; border-radius: 100px; background-color:'+${dto.carcolor}">&nbsp;&nbsp;&nbsp; </div>
            </td>
            <td>[[${dto.carprice}]]</td>
            <td>[[${dto.carguip}]]</td>
        </tr>
    </table>

    <div th:if = "${pageSize < totalCount}">
        <button type = "button" th:onclick = "|location.href='@{./(more=2)}'|">MORE</button>
    </div>
</div>
</body>
</html>